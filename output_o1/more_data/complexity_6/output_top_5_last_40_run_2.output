[
  {
    "timestamp": "2025-02-03T21:28:52.392765",
    "response": {
      "id": "chatcmpl-Awt89ebkAEYbBiasYk91ugnaX91MA",
      "choices": [
        {
          "finish_reason": "tool_calls",
          "index": 0,
          "logprobs": null,
          "message": {
            "content": null,
            "refusal": null,
            "role": "assistant",
            "audio": null,
            "function_call": null,
            "tool_calls": [
              {
                "id": "call_NlFJgLTZtCTneInE66B8bSAL",
                "function": {
                  "arguments": "{\"sql\":\"SELECT id, is_public, priority, status, subject, description, type, assignee_id, requester_id, created_at, url\\nFROM support_ticket\\nWHERE status = 'open'\\nORDER BY created_at DESC\\nLIMIT 40;\"}",
                  "name": "query_support_tickets"
                },
                "type": "function"
              }
            ]
          }
        }
      ],
      "created": 1738598309,
      "model": "o1-2024-12-17",
      "object": "chat.completion",
      "service_tier": "default",
      "system_fingerprint": "fp_d91c966719",
      "usage": {
        "completion_tokens": 2059,
        "prompt_tokens": 1187,
        "total_tokens": 3246,
        "completion_tokens_details": {
          "accepted_prediction_tokens": 0,
          "audio_tokens": 0,
          "reasoning_tokens": 1984,
          "rejected_prediction_tokens": 0
        },
        "prompt_tokens_details": {
          "audio_tokens": 0,
          "cached_tokens": 1024
        }
      }
    }
  },
  {
    "timestamp": "2025-02-03T21:29:54.205045",
    "response": {
      "id": "chatcmpl-Awt8XWyF4GLrtia5APPbMMca6E4Wi",
      "choices": [
        {
          "finish_reason": "tool_calls",
          "index": 0,
          "logprobs": null,
          "message": {
            "content": null,
            "refusal": null,
            "role": "assistant",
            "audio": null,
            "function_call": null,
            "tool_calls": [
              {
                "id": "call_dWBVkr2ZVnIpSLZdqlbjG58J",
                "function": {
                  "arguments": "{\"sql\":\"SELECT DISTINCT requester_id FROM support_ticket\\nWHERE status = 'open'\\nORDER BY created_at DESC\\nLIMIT 40;\"}",
                  "name": "query_support_tickets"
                },
                "type": "function"
              }
            ]
          }
        }
      ],
      "created": 1738598333,
      "model": "o1-2024-12-17",
      "object": "chat.completion",
      "service_tier": "default",
      "system_fingerprint": "fp_d91c966719",
      "usage": {
        "completion_tokens": 6131,
        "prompt_tokens": 10467,
        "total_tokens": 16598,
        "completion_tokens_details": {
          "accepted_prediction_tokens": 0,
          "audio_tokens": 0,
          "reasoning_tokens": 6080,
          "rejected_prediction_tokens": 0
        },
        "prompt_tokens_details": {
          "audio_tokens": 0,
          "cached_tokens": 0
        }
      }
    }
  },
  {
    "timestamp": "2025-02-03T21:30:32.388895",
    "response": {
      "id": "chatcmpl-Awt9XeLTJ2qlh5JFmx2JmriLieIGY",
      "choices": [
        {
          "finish_reason": "tool_calls",
          "index": 0,
          "logprobs": null,
          "message": {
            "content": null,
            "refusal": null,
            "role": "assistant",
            "audio": null,
            "function_call": null,
            "tool_calls": [
              {
                "id": "call_rwdFjmj1igXsk1nIaYNf9sL0",
                "function": {
                  "arguments": "{\"sql\":\"WITH project_revenues AS (\\n    SELECT\\n        p.id AS project_id,\\n        p.owner_id,\\n        COALESCE(SUM(ii.amount), 0) AS total_revenue\\n    FROM projects p\\n    LEFT JOIN invoice_item ii ON ii.project_id = p.id\\n    WHERE p.deleted_at IS NULL\\n    GROUP BY p.id, p.owner_id\\n),\\nuser_revenues AS (\\n    SELECT\\n        p.owner_id,\\n        COALESCE(SUM(ii.amount), 0) AS total_revenue\\n    FROM projects p\\n    LEFT JOIN invoice_item ii ON ii.project_id = p.id\\n    WHERE p.deleted_at IS NULL\\n    GROUP BY p.owner_id\\n),\\nlatest_plans AS (\\n    SELECT DISTINCT ON (ppc.project_id)\\n        ppc.project_id,\\n        pl.name AS plan_name,\\n        ppc.created_at AS changed_at\\n    FROM project_plan_changelogs ppc\\n    JOIN plans pl ON pl.id = ppc.plan_id\\n    ORDER BY ppc.project_id, ppc.created_at DESC\\n)\\nSELECT\\n    p.id AS project_id,\\n    p.owner_id,\\n    u.email AS owner_email,\\n    COALESCE(pr.total_revenue, 0) AS project_revenue,\\n    COALESCE(ur.total_revenue, 0) AS owner_total_revenue,\\n    COALESCE(lp.plan_name, 'unknown') AS plan_name\\nFROM projects p\\nLEFT JOIN project_revenues pr ON pr.project_id = p.id\\nLEFT JOIN user_revenues ur ON ur.owner_id = p.owner_id\\nLEFT JOIN latest_plans lp ON lp.project_id = p.id\\nLEFT JOIN users u ON u.id = p.owner_id\\nWHERE p.deleted_at IS NULL;\"}",
                  "name": "query_control_plane_data"
                },
                "type": "function"
              }
            ]
          }
        }
      ],
      "created": 1738598395,
      "model": "o1-2024-12-17",
      "object": "chat.completion",
      "service_tier": "default",
      "system_fingerprint": "fp_d91c966719",
      "usage": {
        "completion_tokens": 3278,
        "prompt_tokens": 10559,
        "total_tokens": 13837,
        "completion_tokens_details": {
          "accepted_prediction_tokens": 0,
          "audio_tokens": 0,
          "reasoning_tokens": 2880,
          "rejected_prediction_tokens": 0
        },
        "prompt_tokens_details": {
          "audio_tokens": 0,
          "cached_tokens": 10368
        }
      }
    }
  },
  {
    "timestamp": "2025-02-03T21:32:56.244436",
    "response": {
      "id": "chatcmpl-AwtA9Wmpzi90AOLSrqyXcDPlcako1",
      "choices": [
        {
          "finish_reason": "stop",
          "index": 0,
          "logprobs": null,
          "message": {
            "content": "Below are the top 5 open tickets (among the last 40 open tickets) based on the requested scoring rules, from highest to lowest score. For each ticket, you will see:\n\n\u2022 The ticket\u2019s description (truncated here for brevity).  \n\u2022 The extracted project ID (UUID) from the description.  \n\u2022 The plan the project is on (most recent).  \n\u2022 The total project revenue.  \n\u2022 The requester\u2019s email.  \n\u2022 The total revenue for all of that user\u2019s projects.  \n\u2022 The ticket\u2019s creation time.  \n\u2022 The classified category (downtime, reliability, performance, bug, feature request, or others).\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n1) Ticket ID: 261  \n   \u2022 Description (excerpt):  \n     \"We are experiencing significant performance degradation in our application's permissions operations...\"  \n   \u2022 Project ID: e452f72b-66e1-4c56-ada2-3525ab8fb280  \n   \u2022 Plan: advanced  \n   \u2022 Project Revenue: 45486  \n   \u2022 Requester Email: kimberly.riddle@harrison.org  \n   \u2022 User Total Revenue: 45486  \n   \u2022 Created At: 2024-09-26T06:00:00+00:00  \n   \u2022 Category: performance  \n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n2) Ticket ID: 246  \n   \u2022 Description (excerpt):  \n     \"Hello, Our production Hasura service is currently down ... This is causing a critical outage...\"  \n   \u2022 Project ID: c5d9c906-2b61-424e-967b-fa3e27d09d44  \n   \u2022 Plan: advanced  \n   \u2022 Project Revenue: 28615  \n   \u2022 Requester Email: brian.liu@gibbs.biz  \n   \u2022 User Total Revenue: 39395  \n   \u2022 Created At: 2024-07-27T08:00:00+00:00  \n   \u2022 Category: downtime  \n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n3) Ticket ID: 143  \n   \u2022 Description (excerpt):  \n     \"I am unable to access my project on Hasura Cloud. When I try to open the project dashboard...\"  \n   \u2022 Project ID: 2a8d4b07-c391-450f-8153-f6521f8a20a0  \n   \u2022 Plan: base  \n   \u2022 Project Revenue: 0  \n   \u2022 Requester Email: kimberly.riddle@harrison.org  \n   \u2022 User Total Revenue: 45486  \n   \u2022 Created At: 2025-01-03T20:32:35.345840+00:00  \n   \u2022 Category: downtime  \n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n4) Ticket ID: 280  \n   \u2022 Description (excerpt):  \n     \"We are experiencing a critical issue where we cannot reach our Hasura project. All our API endpoints...\"  \n   \u2022 Project ID: 2a3b7790-2cc4-48b5-a290-e6e880bb76e2  \n   \u2022 Plan: advanced  \n   \u2022 Project Revenue: 12710  \n   \u2022 Requester Email: michael.jones@johnson-brady.com  \n   \u2022 User Total Revenue: 63558  \n   \u2022 Created At: 2024-04-24T01:00:00+00:00  \n   \u2022 Category: downtime  \n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n5) Ticket ID: 264  \n   \u2022 Description (excerpt):  \n     \"We are experiencing a critical issue where all our GraphQL operations are returning 500 Internal Server...\"  \n   \u2022 Project ID: e75d06e3-6ec1-4649-bc83-7d19cd07fd77  \n   \u2022 Plan: advanced  \n   \u2022 Project Revenue: 26973  \n   \u2022 Requester Email: gina.brooks@medina-johnson.com  \n   \u2022 User Total Revenue: 31783  \n   \u2022 Created At: 2024-04-30T01:00:00+00:00  \n   \u2022 Category: downtime  \n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n<tickets>\n261\n246\n143\n280\n264\n</tickets>",
            "refusal": null,
            "role": "assistant",
            "audio": null,
            "function_call": null,
            "tool_calls": null
          }
        }
      ],
      "created": 1738598433,
      "model": "o1-2024-12-17",
      "object": "chat.completion",
      "service_tier": "default",
      "system_fingerprint": "fp_d91c966719",
      "usage": {
        "completion_tokens": 14645,
        "prompt_tokens": 31545,
        "total_tokens": 46190,
        "completion_tokens_details": {
          "accepted_prediction_tokens": 0,
          "audio_tokens": 0,
          "reasoning_tokens": 13760,
          "rejected_prediction_tokens": 0
        },
        "prompt_tokens_details": {
          "audio_tokens": 0,
          "cached_tokens": 10368
        }
      }
    }
  }
]